<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>El Malasaña en la Estratosfera</title>
  <meta name="author" content="Begoña Dosantos" />
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
</head>
<body>
  <a-scene vr-mode-ui="enabled: true" shadow="enabled: false" renderer="colorManagement: true;">
    <!-- Iluminación -->
    <a-light type="ambient" color="#FFFFFF" intensity="0.5"></a-light>
    <a-light type="directional" color="#FFFFFF" intensity="1" position="1 3 1"></a-light>

    <!-- Activos -->
    <a-assets>
      <a-asset-item id="museo2-glb" src="museo2.glb"></a-asset-item>
      <a-asset-item id="electronica-mp4" src="electronica.mp4"></a-asset-item>
      <a-asset-item id="caja2-mp4" src="caja2.mp4"></a-asset-item>
      <a-asset-item id="Gelectronica-glb" src="Gelectronica.glb"></a-asset-item>
    </a-assets>

    <!-- Cielo -->
    <a-sky color="#222222"></a-sky>

    <!-- Escena escalada -->
    <a-entity gltf-model="#museo2-glb" scale="0.005 0.005 0.005" position="0 0 0">
      
      <!-- Cámara reubicada -->
      <a-entity id="cameraRig" position="0 0.0025 -0.005">
        <a-entity id="camera" camera look-controls wasd-controls="acceleration: 2" position="0 0.0025 0"></a-entity>
      </a-entity>

      <!-- Vídeos reescalados -->
      <a-video src="electronica.mp4" position="2.48 0.005 0.0025" scale="0.5 0.5 0.5" autoplay loop muted rotation="0 90 0"></a-video>
      <a-video src="caja2.mp4" position="-0.005 0.005 -0.01015" scale="0.1 0.1 0.1" autoplay loop muted rotation="0 180 0"></a-video>

      <!-- Modelo electrónico reducido -->
      <a-entity gltf-model="#Gelectronica-glb" scale="0.1 0.1 0.1" position="2.5 0.5 0.0025" rotation="90 -90 0"></a-entity>

    </a-entity>
  </a-scene>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      let cameraRig = document.querySelector("#cameraRig");
      cameraRig.setAttribute("position", "0 0.0025 -0.005");

      document.querySelectorAll("video").forEach((video) => {
        video.muted = true;
        video.play().catch((error) => console.log("Autoplay bloqueado:", error));
      });
    });
  </script>
</body>
</html>
